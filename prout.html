<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chrono du Glandeur</title>
  <style>
    body {
      font-family: 'Comic Sans MS', sans-serif;
      background-color: #222;
      color: #fff;
      text-align: center;
      padding-top: 100px;
    }

    #timer {
      font-size: 3em;
      margin-bottom: 30px;
    }

    button {
      background-color: #ff3e3e;
      border: none;
      padding: 15px 30px;
      color: white;
      font-size: 1.2em;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background-color: #e22;
    }

    #message {
      margin-top: 30px;
      font-size: 1.2em;
      color: #ccc;
      min-height: 40px;
    }

    #stats {
      margin-top: 20px;
      font-size: 1.1em;
      font-style: italic;
      color: #aaa;
    }
  </style>
</head>
<body>

  <h1>‚è≥ Temps pass√© √† rien faire :</h1>
  <div id="timer">00:00:00</div>

  <div id="button-container">
    <button id="resetButton" onclick="resetTimer()">Je jure de reprendre ma vie en main</button>
  </div>

  <div id="message"></div>
  <div id="stats"></div>

  <script>
    const timerElement = document.getElementById("timer");
    const messageElement = document.getElementById("message");
    const statsElement = document.getElementById("stats");
    const buttonContainer = document.getElementById("button-container");

    let seconds = parseInt(localStorage.getItem("chronoGlandeur")) || 0;
    let clickCount = parseInt(localStorage.getItem("clickCount")) || 0;
    let buttonBlockedUntil = parseInt(localStorage.getItem("blockedUntil")) || 0;

    const phrases = [
      "Tu pourrais apprendre le HTML/CSS √† la place...",
      "Toujours l√† ? Tu veux une m√©daille ?",
      "Tu crois qu‚Äôon a l‚Äô√©ternit√© ?",
      "Encore un peu et tu bats un record mondial.",
      "Les minutes passent, mais ton avenir, lui ?",
      "Si tu √©tais pay√© pour glander, t‚Äôaurais d√©j√† une belle petite vila √† la plage jpenses.",
      "Pense √† ce que t‚Äôaurais pu accomplir.",
      "Fais une pause... ou pas.",
      "Le monde avance, toi t‚Äôes plant√© l√†.",
      "Un jour t‚Äôauras 80 ans et tu repenseras √† ce site. Peut-√™tre.",
      "Tu sais que tu peux faire autre chose, hein ?",
      "Le temps, c‚Äôest de l‚Äôargent. Et l√†, tu le gaspilles.",
      "Tu pourrais apprendre √† coder, mais non, tu pr√©f√®res rester ici.",
      "C'est pour √ßa t'as pas de meuf",
      "Tu sais que tu pourrais faire autre chose de ta vie, hein ?",
      "J'ai entendu dire que les plantes grandissent plus vite que toi en ce moment.",
      "T'as pas d'amis mdrrr ?",
      "LOL, tu pensais que j'allais te dire quelque chose de profond ?",
      "Tu sais que tu pourrais apprendre √† faire des sites web, hein ? Gagner de l'argent et tout et tout.",
      "Ne pas oublier de respirer, hein. C'est important.",
      "On pourrait faire un concours de glandage, tu crois qu'on gagnerait ?",
      "On peux plus rien pour toi...",
      "Le cerano est trop sal√© Johan - Neil",
      "Si j‚Äôai pas la certitude quelle est majeure je bloque direct - Kirby54",
      "Mais tout le monde est lesbienne euuuh Marina - Marc",
      "Les seules personnes qui pensent comme √ßa ce sont les personnes dites comme marginales - Ashfr20",
      "J'esp√®re tu bosses √† c√¥t√© au moins ?",
      "Dembele ballon d'or - Werfox",
      "Abonne toi a mon twitch tant que t'y es : .tv/rafael_mmix"
    ];

    function updateTimer() {
      let seconds = parseInt(localStorage.getItem("chronoGlandeur")) || 0;
      let phonesSold = seconds * 47.5; // initialisation

      let lastTime = Date.now();

      function updatePhonesSold() {
      const now = Date.now();
      const elapsedMs = now - lastTime;
      lastTime = now;

      phonesSold += 0.0475 * elapsedMs;

      statsElement.textContent = `üì± Environ ${Math.floor(phonesSold).toLocaleString()} smartphones vendus depuis que tu es ici.`;

      requestAnimationFrame(updatePhonesSold);
      }

      updatePhonesSold();

      const now = Date.now();
      if (now < buttonBlockedUntil) {
        document.getElementById("resetButton").style.display = "none";
      } else {
        document.getElementById("resetButton").style.display = "inline-block";
      }

      seconds++;
      localStorage.setItem("chronoGlandeur", seconds);

      const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
      const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
      const secs = String(seconds % 60).padStart(2, '0');
      timerElement.textContent = `${hrs}:${mins}:${secs}`;

      // Alerte √† 10 minutes
      if (seconds === 600) {
        alert("‚ö†Ô∏è 10 minutes √† rien faire‚Ä¶ Impressionnant.");
      }

      if (seconds === 3600) {
        alert("‚è∞ Une heure √† glander‚Ä¶ Tu as un talent pour √ßa !");
      }

      if (seconds === 7200) {
        alert("‚è≥ Deux heures‚Ä¶ Tu es vraiment un champion du glandage !");
      }

      if (seconds === 10800) {
        alert("‚è∞ Trois heures‚Ä¶ Tu es officiellement le roi du glandage !");
      }

      if (seconds === 14400) {
        alert("‚è≥ Quatre heures‚Ä¶ Tu as atteint un niveau de glandeur l√©gendaire !");
      }

      if (seconds === 18000) {
        alert("‚è∞ Cinq heures‚Ä¶ Tu es un v√©ritable ma√Ætre du glandage !");
      }

      // Mise √† jour des stats √† chaque seconde
      // Mise √† jour stats toutes les secondes avec une estimation r√©aliste
      statsElement.textContent = `üì± Environ ${phonesSold.toLocaleString()} smartphones vendus depuis que tu es ici.`;
    }

    // Messages al√©atoires toutes les 30 secondes
    setInterval(() => {
      const randomMsg = phrases[Math.floor(Math.random() * phrases.length)];
      messageElement.textContent = randomMsg;
    }, 30000);

    function resetTimer() {
  clickCount++;
  localStorage.setItem("clickCount", clickCount);

  const now = Date.now();

  if (clickCount >= 5) {
    const blockDuration = 5 * ( 60 * 1000 ); // 5 minutes
    const unblockTime = now + blockDuration;

    localStorage.setItem("blockedUntil", unblockTime);
    buttonBlockedUntil = unblockTime; // Met √† jour la variable

    // Masque le bouton imm√©diatement
    document.getElementById("resetButton").style.display = "none";
    messageElement.textContent = "üö´ Tu mens, j'ai pas demand√© de la prendre par le pied, je t‚Äôenl√®ve le bouton pendant 5 minutes. Bien fait ! CHEH";
    clickCount = 0;
    localStorage.setItem("clickCount", "0");

    // Affiche √† nouveau le bouton apr√®s 5 minutes
    setTimeout(() => {
      document.getElementById("resetButton").style.display = "inline-block";
      localStorage.setItem("blockedUntil", "0"); // R√©initialise proprement
    }, blockDuration);
  } else {
    if (confirm("T‚Äôes s√ªr ? T‚Äôeffaces toute ta gloire ?")) {
      seconds = 0;
      localStorage.setItem("chronoGlandeur", "0");
      messageElement.textContent = "";
      statsElement.textContent = "";
      timerElement.textContent = "00:00:00";
      alert("Bon‚Ä¶ On y croit hein.");
    }
  }
}

    // Variables globales
let totalClicks = parseInt(localStorage.getItem("totalClicks")) || 0;
let resetCount = parseInt(localStorage.getItem("resetCount")) || 0;

// Incr√©menter les clics partout
document.addEventListener("click", () => {
  totalClicks++;
  localStorage.setItem("totalClicks", totalClicks);
});

// Ajouter au reset (si tu as une fonction reset, compl√®te-la avec √ßa) :
function ajouterResetCount() {
  resetCount++;
  localStorage.setItem("resetCount", resetCount);
}

// Fonction secr√®te √† taper dans la console
function devMode() {
  const secondsPassed = parseInt(localStorage.getItem("chronoGlandeur")) || 0;

  const existing = document.getElementById("dev-mode-box");
  if (existing) return; // √©vite doublon

  const devBox = document.createElement("div");
  devBox.id = "dev-mode-box";
  devBox.style = `
    position: fixed;
    bottom: 10px;
    right: 10px;
    background: #111;
    color: #0f0;
    padding: 20px;
    border: 2px solid lime;
    font-family: monospace;
    font-size: 14px;
    border-radius: 10px;
    z-index: 9999;
    max-width: 320px;
    box-shadow: 0 0 20px lime;
  `;

  devBox.innerHTML = `
    <h3 style="margin-top: 0;">üõ†Ô∏è Mode Dev Activ√©</h3>
    ‚è±Ô∏è Temps pass√© : ${secondsPassed} sec<br>
    üñ±Ô∏è Clics totaux : ${totalClicks}<br>
    üîÅ Resets : ${resetCount}<br>
    ‚ö†Ô∏è <i>Erreur critique : glande absolue d√©tect√©e</i><br><br>
    <button onclick="exportLogs()" style="
      background: lime;
      border: none;
      padding: 6px 10px;
      color: black;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    ">üìÑ Exporter les logs</button>
    <button onclick="document.getElementById('dev-mode-box').remove()" style="
      margin-left: 5px;
      background: #444;
      color: white;
      border: 1px solid #777;
      padding: 6px 10px;
      border-radius: 6px;
      cursor: pointer;
    ">‚ùå Fermer</button>
  `;

  document.body.appendChild(devBox);
}

// Fonction pour exporter les logs absurdes
function exportLogs() {
  const secondsPassed = parseInt(localStorage.getItem("chronoGlandeur")) || 0;
  const content = `
=== RAPPORT DE GLANDAGE ===
Temps total pass√© : ${secondsPassed} secondes
Clics effectu√©s : ${totalClicks}
Nombre de resets : ${resetCount}

Statut : Glandeur certifi√©‚Ñ¢
Conseil : Hydrate-toi et va dehors.
============================
`;

  const blob = new Blob([content], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "rapport_glandeur.txt";
  a.click();
  URL.revokeObjectURL(url);
}


    // Mise √† jour du chrono chaque seconde
    setInterval(updateTimer, 1000);
    updateTimer(); // Initialisation
  </script>

</body>
</html>
